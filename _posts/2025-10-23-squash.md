---
layout: post
title: merge commits better than squash commits
description: ""
date: 2025-10-23
tags: []
hidden: true
---

todo: update date when written out

people use squash commits and rebases because they want their commit history to be clean. is this just for vanity?

merge commits are better: 

- more granular blames
  - see both the commit level context (eg formatting or a bug fix) and PR
  - GitHub links to PR that commit is part of
  - while PRs *should* be small, they are not always so in practice
    - especially in the earliest PRs of the repo when the project starts out, since that's where
  - from experience at ACM and internship
  - if you rename and rewrite a file i believe keeping the granular commits allows GitHub to track where the previous file history was / include it in the blame (while squashing will turn it into a delete + add)
- why squash commits on feature branches into main?
- easier to split PR into multiple steps and merge upstream PRs into later PRs without conflicts

only benefit of squash commits is to keep .git folder small (eg if you accidentally commit node modules in a PR then delete it)

looking online, the benefits of squash commits are: 

- if you want to assume every commit builds / use git bisect, then squashing avoids broken intermediate wip commits
  - bisect is valid
  - for the former you could just only consider merge commits to main
    - can also use a commit message convention or pre commit hooks

should limit argument to just GitHub interface rather than git CLI (because GitHub shows PR info on hover)

- arguably GitHub PR metadata is just as part of the repo history as the commits because PR discussion
- issue numbers don't work well in the terminal either

when do people look at commit history? is there research on this

PRs *should* be small. but in practice for one reason or another some PRs end up very big (are there statistics on this)

do people use bisect or blame? can't bisect on GitHub but blame is harder to use in git i guess
